<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

<h1>Game Page</h1>
<div class="question">
  <img src="/static/game1_files/<%= currentQuestion.IMG %>" width="200">
  <p>
    <%= currentQuestion.QUESTION %>
  </p>
  
<!-- test -->
<div class="result">
  <% if (explain) { %>
    <div class="msg">
      여길보세요!!!   <%= explain %>
    </div>
    <% } %>
</div>

</div>

<div class="answer-form">
  <form action="/game1/checkAnswer" method="post"> <!-- 수정된 부분 -->
    <input type="hidden" name="record_id" value="<%= currentQuestion.RECORD_ID %>">
    <br><br>
    <% const options=[currentQuestion.WRONG1, currentQuestion.WRONG2, currentQuestion.WRONG3, currentQuestion.ANSWER];
      options.sort(()=> Math.random() - 0.5);
      options.forEach(option => { %>
      <label>
        <input type="hidden" name="nextIndex" value="<%=nextIndex%>">
        <input type="radio" name="selected_answer" value="<%= option %>" <% if (explain !== undefined)  { %>disabled <% } %>> <%= option %> 
      </label><br><br>
      <% }); %>
    <button type="submit">문제확인</button> <!-- 검증 버튼 추가 -->
  </form>
</div>

<div class="nextButton">
  <a href="/game1/next"><button id="nextButton">다음 문제</button></a>
</div>


<div class="progress" role="progressbar" aria-label="Animated striped example" style="height: 30px; margin: 0 auto; width: 50%;">
  <div class="progress-bar progress-bar-striped progress-bar-animated"  style="width: <%= (nextIndex + 1) * 20 %>%" aria-valuenow="<%= (nextIndex + 1) * 20 %>" aria-valuemin="0" aria-valuemax="100"></div>
</div>  
