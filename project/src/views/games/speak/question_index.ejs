<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/static/css/joon/style.css" rel="stylesheet" />
    <title>Document</title>
</head>
<body>
    <input type="hidden" value="<%=data.length%>" id="dataSize">

    <%
        let msg = "";
        let imsi = [{answer : "우와 정말 대단해요!!"}, {answer : "정말 대단한데요!?"}, {answer : "우와 짱이다!!"}, {answer : "정말 잘했어요!"}, {answer : "다음문제로 고고씽!"}];
        let cnt = 0;
        let answerCnt = 0;
        data.forEach((list) => {  
        msg = imsi[Math.floor(Math.random() * imsi.length)].answer;
    %>
    
    <!-- Speak Question & User Answer Page -->
    <div id="mainPage<%=cnt%>" class="mainPage" style="display:none">

        <!-- header Start -->
        <div id="speakHeaderSection<%=cnt%>" class="headerSection" style="display:none">
            <div class="headerSectionTitle">
                <div class="questionTitle">
                   <div class="cancelBtn"><button type="button" onclick="gameExit()">X</button></div>
                   <div class="energyBar">
                        <div id="energyBarFill<%=cnt%>" class="energyBarFill"><br></div>
                   </div>
                   <div class="lifeView">
                        <%
                            for(var i = 3; i >= 1; i--){
                        %>
                            <span class="gameLife<%=i%>">♥</span>
                        <%
                            }
                        %>
                    </div>
                </div>
            </div>
        </div>
        <!-- header End -->


        <!-- Body Start -->
        <div class="speakBodySection">
            <div class="speakBodyLocation">
                <div id="questionInput<%=cnt%>" class="" style="display:none">
                    <input onclick="responsiveVoice.speak('<%= list.QUESTION %>');" type="button" value="Play"> <%= list.QUESTION %><br><br>
                    <input type="hidden" value="<%= list.ANSWER %>" id="rightInput<%=cnt%>">

                    <hr>
                    <div style="display:flex;">
                        <div id="userAnswerDiv<%=cnt%>"></div>
                    </div>
                    <hr>

                    <div style="display:flex;">
                        <div>
                            <% 
                                let answer = word[cnt].random.split(' ');
                                for(var i = 0; i < answer.length; i++){
                                    let ranNum = Math.floor(Math.random() * answer.length);
                                    let tmp = answer[i];
                                    answer[i] = answer[ranNum];
                                    answer[ranNum] = tmp;
                                }
                                answer.forEach((list) => {
                                    answerCnt++;
                            %>
                            <input type="button" id="userAnswerValues<%=answerCnt%>" class="disabledCheck userAnswerValues" value="<%=list%>" onclick="userChooseBtn('<%=answerCnt%>', '<%=list%>');" style="display:inline;" disabled=""> 
                            <% }) %>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Body End -->

        <!-- Footer Start -->

        <div>
            <div id="underBarBasicDiv<%=cnt%>" style = "display:none;">
                <input type="button" onclick="jumpBtn('<%=cnt%>')" value="건너뛰기"> <input type="button" onclick="CheckBtn('<%=cnt%>')" value="확인하기">
            </div>
            <div id="underBarWrongDiv<%=cnt%>" style="display:none;">
                <div>
                    이미지
                </div>
                <div>
                    <div id="rightAnswer<%=cnt%>"></div>
                </div>
                <div>
                    <input type="button" value="다시풀기" onclick="restartBtn('<%=cnt%>')">
                    <input type="button" value="정답보기" onclick="rightViewBtn('<%=cnt%>')">
                    <input type="button" value="계속하기" onclick="wrongContinueBtn('<%=cnt%>');">
                </div>
            </div>
            <div id="underBarRightDiv<%=cnt%>" style="display:none;">
                <div>
                    이미지
                </div>
                <div>
                    정답!!<br><span style="color: green; font-size:30px;"><%=msg%></span>
                </div>
                <div>
                    <input type="button" value="계속하기" onclick="rightContinueBtn('<%=cnt%>');">
                </div>
            </div>
        </div>

        <!-- Footer End -->

    </div>

    <% cnt++;}) %>

    <script src="https://code.responsivevoice.org/responsivevoice.js?key=oTMD5yMg"></script>
    <script src="/static/js/joon/speak_question.js"></script>
</body>
</html>